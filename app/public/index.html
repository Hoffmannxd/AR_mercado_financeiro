<html>
<head>
    <title>Web Client for risk analysis</title>
    <link rel="stylesheet" type="text/css" href="assets/styles/style.css">
    <script src="/chart/Chart.min.js"></script>
</head>

<body>

    <div class="filter">
        <div class="filter__title">ANALISYS PARAMETERS</div>
        <hr class="filter__divisor" />
        <div class="filter__input-area">
            <form id="form_data" method="post">
                <span class="label">End date</span> <input type="date" class="filter__date"/>
                <span class="label">Delt</span> <input type="number" min="1" class="filter__range" />
                <span class="label">Index</span><select class="filter__target">
                    <option>
                        BSP
                    </option>
                </select>
                <button id="btn-exe" class="filter__button">Ok!</button>
            </form>
        <hr class="filter__divisor" />
        </div>

        <canvas id="myChart" width="400" height="400"></canvas>

    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
    function plotGraph(){
        var ctx = document.getElementById('myChart');
        var chart = new Chart(ctx, {
            // The type of chart we want to create
            type: 'line',

    // The data for our dataset
            data: {
                labels: ["January", "February", "March", "April", "May", "June", "July"],
                datasets: [{
                    label: "My First dataset",
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [0, 10, 5, 2, 20, 30, 45],
                }]
            },

            // Configuration options go here
            options: {}
        });
    }

    $($('#form_data').on('submit', function(event){
        event.preventDefault();

        $.ajax({
            url: '/ar_mf',
            method: 'POST',
            contentType: 'application/json',
            data: "test",
            success: function(response){
                plotGraph();
            }
        });
    }));
    </script>
</body>


</html>
